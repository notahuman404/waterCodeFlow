{
  "version": 3,
  "sources": ["../src/extension.ts", "../src/glueClient.ts", "../src/providers/RecordingsViewProvider.ts", "../src/providers/VariablesViewProvider.ts", "../src/panels/VariableInspectionPanel.ts", "../src/panels/InsightsPanel.ts"],
  "sourcesContent": ["/**\n * WaterCodeFlow Extension Entry Point\n * Activates glue client, manages webview providers, routes commands.\n */\nimport * as vscode from \"vscode\";\nimport { randomUUID } from \"crypto\";\nimport { getGlueClient } from \"./glueClient\";\nimport { RecordingsViewProvider } from \"./providers/RecordingsViewProvider\";\nimport { VariablesViewProvider } from \"./providers/VariablesViewProvider\";\nimport { VariableInspectionPanel } from \"./panels/VariableInspectionPanel\";\nimport { InsightsPanel } from \"./panels/InsightsPanel\";\n\nlet nonce: string;\nlet activeFilePath: string = \"\";\nlet recordingsProvider: RecordingsViewProvider | null = null;\nlet variablesProvider: VariablesViewProvider | null = null;\n\nexport async function activate(context: vscode.ExtensionContext) {\n  console.log(\"[WaterCodeFlow] Activating...\");\n\n  nonce = randomUUID();\n\n  // Spawn glue subprocess\n  const glueClient = getGlueClient();\n  try {\n    // extensionPath is the editor/ directory\n    await glueClient.spawn(context.extensionPath);\n    console.log(\"[WaterCodeFlow] Glue client initialized\");\n  } catch (err) {\n    console.error(\"[WaterCodeFlow] Failed to spawn glue adapter:\", err);\n    vscode.window.showErrorMessage(\n      \"WaterCodeFlow: Failed to start glue adapter. Is Python installed?\"\n    );\n    return;\n  }\n\n  // Track active file\n  context.subscriptions.push(\n    vscode.window.onDidChangeActiveTextEditor((editor) => {\n      if (editor && editor.document.languageId === \"python\") {\n        activeFilePath = editor.document.uri.fsPath;\n        recordingsProvider?.setActiveFile(activeFilePath);\n        variablesProvider?.setActiveFile(activeFilePath);\n      }\n    })\n  );\n\n  // Register webview view providers\n  recordingsProvider = new RecordingsViewProvider(context, nonce);\n  variablesProvider = new VariablesViewProvider(context, nonce);\n\n  context.subscriptions.push(\n    vscode.window.registerWebviewViewProvider(\n      \"watercodeflow.recordings\",\n      recordingsProvider,\n      { webviewOptions: { retainContextWhenHidden: true } }\n    )\n  );\n\n  context.subscriptions.push(\n    vscode.window.registerWebviewViewProvider(\n      \"watercodeflow.variables\",\n      variablesProvider,\n      { webviewOptions: { retainContextWhenHidden: true } }\n    )\n  );\n\n  // Register commands\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\n      \"watercodeflow.startRecording\",\n      async () => {\n        if (!activeFilePath) {\n          vscode.window.showWarningMessage(\n            \"No Python file is currently active\"\n          );\n          return;\n        }\n\n        const interval = await vscode.window.showInputBox({\n          prompt: \"Recording interval (seconds)\",\n          value: \"0.5\",\n        });\n\n        if (interval === undefined) return;\n\n        try {\n          const pid = await glueClient.send({\n            command: \"startRecording\",\n            filePath: activeFilePath,\n            interval: parseFloat(interval),\n          });\n\n          vscode.window.showInformationMessage(\n            `Recording started (PID: ${pid})`\n          );\n          recordingsProvider?.refreshStatus();\n        } catch (err) {\n          vscode.window.showErrorMessage(`Failed to start recording: ${err}`);\n        }\n      }\n    )\n  );\n\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\"watercodeflow.stopRecording\", async () => {\n      if (!activeFilePath) {\n        vscode.window.showWarningMessage(\n          \"No Python file is currently active\"\n        );\n        return;\n      }\n\n      try {\n        await glueClient.send({\n          command: \"stopRecording\",\n          filePath: activeFilePath,\n        });\n\n        vscode.window.showInformationMessage(\"Recording stopped\");\n        recordingsProvider?.refreshStatus();\n      } catch (err) {\n        vscode.window.showErrorMessage(`Failed to stop recording: ${err}`);\n      }\n    })\n  );\n\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\n      \"watercodeflow.openInspector\",\n      async (varName: string) => {\n        if (!activeFilePath) {\n          vscode.window.showWarningMessage(\n            \"No Python file is currently active\"\n          );\n          return;\n        }\n\n        const inspectorPanel = new VariableInspectionPanel(\n          context,\n          nonce,\n          activeFilePath,\n          varName\n        );\n        context.subscriptions.push(inspectorPanel);\n      }\n    )\n  );\n\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\n      \"watercodeflow.openInsights\",\n      async (fromTick: number, toTick: number) => {\n        if (!activeFilePath) {\n          vscode.window.showWarningMessage(\n            \"No Python file is currently active\"\n          );\n          return;\n        }\n\n        const insightsPanel = new InsightsPanel(\n          context,\n          nonce,\n          activeFilePath,\n          fromTick,\n          toTick\n        );\n        context.subscriptions.push(insightsPanel);\n      }\n    )\n  );\n\n  console.log(\"[WaterCodeFlow] Extension fully activated\");\n}\n\nexport function deactivate() {\n  console.log(\"[WaterCodeFlow] Deactivating...\");\n\n  const glueClient = getGlueClient();\n  glueClient.kill();\n}\n\nexport function getNonce(): string {\n  return nonce;\n}\n\nexport function getActiveFilePath(): string {\n  return activeFilePath;\n}\n", "/**\n * GlueClient: subprocess bridge to glue adapter (Python).\n * Manages JSON RPC-style communication with glue/adapter.py\n */\nimport { spawn, ChildProcess } from \"child_process\";\nimport { randomUUID } from \"crypto\";\nimport * as path from \"path\";\nimport { GlueCommand, GlueResponse } from \"./types\";\n\ntype ResponseCallback = (response: GlueResponse) => void;\n\nexport class GlueClient {\n  private subprocess: ChildProcess | null = null;\n  private pendingRequests: Map<string, ResponseCallback> = new Map();\n  private ready: Promise<void>;\n  private readyResolve: (() => void) | null = null;\n  private lines: string[] = [];\n\n  constructor() {\n    this.ready = new Promise((resolve) => {\n      this.readyResolve = resolve;\n    });\n  }\n\n  /**\n   * Spawn Python subprocess running glue adapter.\n   * extensionPath is the editor/ directory.\n   * We need to traverse up one level to reach the project root where glue/ is located.\n   */\n  async spawn(extensionPath: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      try {\n        // extensionPath = /workspaces/WaterCodeFlow/editor\n        // We need to run from project root: /workspaces/WaterCodeFlow\n        const projectRoot = path.dirname(extensionPath);\n\n        this.subprocess = spawn(\"python3\", [\"-m\", \"glue.adapter\"], {\n          cwd: projectRoot,\n          stdio: [\"pipe\", \"pipe\", \"pipe\"],\n          env: { ...process.env },\n        });\n\n        this.subprocess.on(\"error\", (err) => {\n          console.error(\"[GlueClient] subprocess error:\", err);\n          reject(err);\n        });\n\n        this.subprocess.stdout!.on(\"data\", (data) => {\n          this.handleData(data.toString());\n        });\n\n        this.subprocess.stderr!.on(\"data\", (data) => {\n          console.error(\"[GlueClient] stderr:\", data.toString());\n        });\n\n        // Wait a moment for subprocess to initialize\n        setTimeout(() => {\n          if (this.readyResolve) {\n            this.readyResolve();\n          }\n          resolve();\n        }, 500);\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Send a command to glue and wait for response.\n   */\n  async send<T = any>(command: Omit<GlueCommand, \"id\">): Promise<T> {\n    await this.ready;\n\n    if (!this.subprocess || !this.subprocess.stdin) {\n      throw new Error(\"GlueClient not initialized. Call spawn() first.\");\n    }\n\n    const id = randomUUID();\n    const fullCommand: GlueCommand = { ...command, id } as GlueCommand;\n\n    return new Promise((resolve, reject) => {\n      this.pendingRequests.set(id, (response: GlueResponse) => {\n        if (response.success) {\n          resolve(response.result as T);\n        } else {\n          reject(\n            new Error(\n              `[${response.errorType || \"GlueError\"}] ${response.error}`\n            )\n          );\n        }\n      });\n\n      const cmdJson = JSON.stringify(fullCommand) + \"\\n\";\n      this.subprocess!.stdin!.write(cmdJson);\n    });\n  }\n\n  /**\n   * Handle incoming data from subprocess.\n   * Accumulates lines and processes complete JSON objects.\n   */\n  private handleData(chunk: string): void {\n    const allLines = (this.lines.join(\"\") + chunk).split(\"\\n\");\n\n    // Last element may be incomplete, keep it in this.lines\n    this.lines = [allLines[allLines.length - 1]];\n\n    for (let i = 0; i < allLines.length - 1; i++) {\n      const line = allLines[i].trim();\n      if (!line) continue;\n\n      try {\n        const response: GlueResponse = JSON.parse(line);\n        const callback = this.pendingRequests.get(response.id);\n\n        if (callback) {\n          this.pendingRequests.delete(response.id);\n          callback(response);\n        } else {\n          console.warn(\n            \"[GlueClient] received response for unknown request:\",\n            response.id\n          );\n        }\n      } catch (err) {\n        console.error(\"[GlueClient] failed to parse JSON:\", line, err);\n      }\n    }\n  }\n\n  /**\n   * Kill subprocess.\n   */\n  kill(): void {\n    if (this.subprocess && !this.subprocess.killed) {\n      this.subprocess.kill();\n      this.subprocess = null;\n    }\n  }\n\n  /**\n   * Check if subprocess is alive.\n   */\n  isAlive(): boolean {\n    return this.subprocess !== null && !this.subprocess.killed;\n  }\n}\n\n// Singleton instance\nlet instance: GlueClient | null = null;\n\nexport function getGlueClient(): GlueClient {\n  if (!instance) {\n    instance = new GlueClient();\n  }\n  return instance;\n}\n", "/**\n * RecordingsViewProvider: Manages the Recordings webview sidebar panel.\n * Displays recording list, status, and controls.\n */\nimport * as vscode from \"vscode\";\nimport { getGlueClient } from \"../glueClient\";\nimport { getNonce } from \"../extension\";\nimport * as path from \"path\";\nimport { Run } from \"../types\";\n\nexport class RecordingsViewProvider implements vscode.WebviewViewProvider {\n  public static readonly viewType = \"watercodeflow.recordings\";\n\n  private _view?: vscode.WebviewView;\n  private _activeFile: string = \"\";\n  private statusRefreshInterval: any = null;\n\n  constructor(\n    private context: vscode.ExtensionContext,\n    private nonce: string\n  ) {}\n\n  resolveWebviewView(\n    webviewView: vscode.WebviewView,\n    context: vscode.WebviewViewResolveContext<unknown>,\n    token: vscode.CancellationToken\n  ): void | Thenable<void> {\n    this._view = webviewView;\n\n    webviewView.webview.options = {\n      enableScripts: true,\n      localResourceRoots: [\n        vscode.Uri.joinPath(this.context.extensionUri, \"media\"),\n      ],\n    };\n\n    webviewView.webview.html = this.getHtmlForWebview(webviewView.webview);\n\n    webviewView.webview.onDidReceiveMessage(async (message) => {\n      await this.handleMessage(message);\n    });\n\n    // Refresh status every 2 seconds\n    this.statusRefreshInterval = setInterval(() => {\n      this.refreshStatus();\n    }, 2000);\n  }\n\n  setActiveFile(filePath: string): void {\n    this._activeFile = filePath;\n    this.refreshRecordings();\n    this.refreshStatus();\n  }\n\n  async refreshStatus(): Promise<void> {\n    if (!this._view || !this._activeFile) return;\n\n    try {\n      const glueClient = getGlueClient();\n      const status = await glueClient.send({\n        command: \"getStatus\",\n        filePath: this._activeFile,\n      });\n\n      this._view.webview.postMessage({\n        type: \"statusUpdate\",\n        status,\n      });\n    } catch (err) {\n      console.log(\"Status refresh error (expected if not recording):\", err);\n    }\n  }\n\n  async refreshRecordings(): Promise<void> {\n    if (!this._view || !this._activeFile) return;\n\n    try {\n      const glueClient = getGlueClient();\n      const runs = await glueClient.send<Run[]>({\n        command: \"listRuns\",\n        filePath: this._activeFile,\n      });\n\n      this._view.webview.postMessage({\n        type: \"recordingsUpdate\",\n        recordings: runs,\n      });\n    } catch (err) {\n      console.log(\"Recordings refresh error:\", err);\n    }\n  }\n\n  private async handleMessage(message: any): Promise<void> {\n    const glueClient = getGlueClient();\n\n    switch (message.command) {\n      case \"startRecording\": {\n        try {\n          const pid = await glueClient.send({\n            command: \"startRecording\",\n            filePath: message.filePath,\n            interval: message.interval || 0.5,\n          });\n\n          this._view?.webview.postMessage({\n            type: \"recordingStarted\",\n            pid,\n          });\n\n          this.refreshStatus();\n        } catch (err) {\n          this._view?.webview.postMessage({\n            type: \"error\",\n            message: `Failed to start recording: ${err}`,\n          });\n        }\n        break;\n      }\n\n      case \"stopRecording\": {\n        try {\n          await glueClient.send({\n            command: \"stopRecording\",\n            filePath: message.filePath,\n          });\n\n          this._view?.webview.postMessage({\n            type: \"recordingStopped\",\n          });\n\n          this.refreshStatus();\n        } catch (err) {\n          this._view?.webview.postMessage({\n            type: \"error\",\n            message: `Failed to stop recording: ${err}`,\n          });\n        }\n        break;\n      }\n\n      case \"jumpToTick\": {\n        try {\n          await glueClient.send({\n            command: \"jumpToTick\",\n            filePath: message.filePath,\n            tickId: message.tickId,\n          });\n\n          this._view?.webview.postMessage({\n            type: \"cursorUpdate\",\n            tick: message.tickId,\n          });\n        } catch (err) {\n          this._view?.webview.postMessage({\n            type: \"error\",\n            message: `Failed to jump to tick: ${err}`,\n          });\n        }\n        break;\n      }\n\n      case \"openRun\": {\n        vscode.commands.executeCommand(\n          \"watercodeflow.openInspector\",\n          message.runId\n        );\n        break;\n      }\n\n      case \"deleteRun\": {\n        try {\n          await glueClient.send({\n            command: \"deleteRun\",\n            filePath: message.filePath,\n            runId: message.runId,\n          });\n\n          this.refreshRecordings();\n          this.refreshStatus();\n        } catch (err) {\n          this._view?.webview.postMessage({\n            type: \"error\",\n            message: `Failed to delete run: ${err}`,\n          });\n        }\n        break;\n      }\n    }\n  }\n\n  private getHtmlForWebview(webview: vscode.Webview): string {\n    const recordingsUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(this.context.extensionUri, \"media\", \"recordings.js\")\n    );\n\n    const recordingsCssUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(\n        this.context.extensionUri,\n        \"media\",\n        \"recordings.css\"\n      )\n    );\n\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"${recordingsCssUri}\">\n    <title>Recordings</title>\n</head>\n<body>\n    <div id=\"recordings-container\">\n        <div id=\"controls\">\n            <button id=\"btn-start\">Start Recording</button>\n            <button id=\"btn-stop\">Stop Recording</button>\n            <div id=\"status\">Ready</div>\n        </div>\n        <div id=\"recordings-list\"></div>\n    </div>\n    <script nonce=\"${this.nonce}\" src=\"${recordingsUri}\"></script>\n</body>\n</html>`;\n  }\n\n  dispose(): void {\n    if (this.statusRefreshInterval) {\n      clearInterval(this.statusRefreshInterval);\n    }\n  }\n}\n", "/**\n * VariablesViewProvider: Manages the Variables webview sidebar panel.\n * Displays tracked variables and allows selection.\n */\nimport * as vscode from \"vscode\";\nimport { getGlueClient } from \"../glueClient\";\nimport { Variable } from \"../types\";\nimport * as path from \"path\";\n\nexport class VariablesViewProvider implements vscode.WebviewViewProvider {\n  public static readonly viewType = \"watercodeflow.variables\";\n\n  private _view?: vscode.WebviewView;\n  private _activeFile: string = \"\";\n\n  constructor(\n    private context: vscode.ExtensionContext,\n    private nonce: string\n  ) {}\n\n  resolveWebviewView(\n    webviewView: vscode.WebviewView,\n    context: vscode.WebviewViewResolveContext<unknown>,\n    token: vscode.CancellationToken\n  ): void | Thenable<void> {\n    this._view = webviewView;\n\n    webviewView.webview.options = {\n      enableScripts: true,\n      localResourceRoots: [\n        vscode.Uri.joinPath(this.context.extensionUri, \"media\"),\n      ],\n    };\n\n    webviewView.webview.html = this.getHtmlForWebview(webviewView.webview);\n\n    webviewView.webview.onDidReceiveMessage(async (message) => {\n      await this.handleMessage(message);\n    });\n  }\n\n  setActiveFile(filePath: string): void {\n    this._activeFile = filePath;\n    this.refreshVariables();\n  }\n\n  async refreshVariables(): Promise<void> {\n    if (!this._view || !this._activeFile) return;\n\n    try {\n      const glueClient = getGlueClient();\n      const variables = await glueClient.send<Variable[]>({\n        command: \"listTrackedVariables\",\n        filePath: this._activeFile,\n      });\n\n      this._view.webview.postMessage({\n        type: \"variablesUpdate\",\n        variables,\n      });\n    } catch (err) {\n      console.log(\"Variables refresh error:\", err);\n    }\n  }\n\n  private async handleMessage(message: any): Promise<void> {\n    const glueClient = getGlueClient();\n\n    switch (message.command) {\n      case \"inspectVariable\": {\n        vscode.commands.executeCommand(\n          \"watercodeflow.openInspector\",\n          message.varName\n        );\n        break;\n      }\n\n      case \"inferVariables\": {\n        try {\n          const variables = await glueClient.send<Variable[]>({\n            command: \"listTrackedVariables\",\n            filePath: message.filePath || this._activeFile,\n          });\n\n          this._view?.webview.postMessage({\n            type: \"variables\",\n            variables,\n          });\n        } catch (err) {\n          this._view?.webview.postMessage({\n            type: \"error\",\n            message: `Failed to infer variables: ${err}`,\n          });\n        }\n        break;\n      }\n    }\n  }\n\n  private getHtmlForWebview(webview: vscode.Webview): string {\n    const variablesUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(this.context.extensionUri, \"media\", \"variables.js\")\n    );\n\n    const variablesCssUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(\n        this.context.extensionUri,\n        \"media\",\n        \"variables.css\"\n      )\n    );\n\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"${variablesCssUri}\">\n    <title>Variables</title>\n</head>\n<body>\n    <div id=\"variables-container\">\n        <div id=\"controls\">\n            <button id=\"btn-infer\">Infer Variables</button>\n        </div>\n        <ul id=\"variables-list\"></ul>\n    </div>\n    <script nonce=\"${this.nonce}\" src=\"${variablesUri}\"></script>\n</body>\n</html>`;\n  }\n\n  dispose(): void {\n    // Cleanup if needed\n  }\n}\n", "/**\n * VariableInspectionPanel: Modal webview for inspecting variable mutations.\n */\nimport * as vscode from \"vscode\";\nimport { getGlueClient } from \"../glueClient\";\nimport { VariableTimelineEntry } from \"../types\";\n\nexport class VariableInspectionPanel {\n  private readonly _panel: vscode.WebviewPanel;\n  private _disposed = false;\n\n  constructor(\n    context: vscode.ExtensionContext,\n    nonce: string,\n    private filePath: string,\n    private varName: string\n  ) {\n    this._panel = vscode.window.createWebviewPanel(\n      \"watercodeflow.inspector\",\n      `Inspector: ${varName}`,\n      vscode.ViewColumn.Beside,\n      {\n        enableScripts: true,\n        localResourceRoots: [\n          vscode.Uri.joinPath(context.extensionUri, \"media\"),\n        ],\n      }\n    );\n\n    this._panel.webview.html = this.getHtmlForWebview(\n      this._panel.webview,\n      context,\n      nonce\n    );\n\n    this._panel.webview.onDidReceiveMessage(async (message) => {\n      await this.handleMessage(message);\n    });\n\n    this._panel.onDidDispose(() => {\n      this._disposed = true;\n    });\n\n    // Load timeline data\n    this.loadTimeline();\n  }\n\n  private async loadTimeline(): Promise<void> {\n    if (this._disposed) return;\n\n    try {\n      const glueClient = getGlueClient();\n      const timeline = await glueClient.send<VariableTimelineEntry[]>({\n        command: \"getVariableTimeline\",\n        filePath: this.filePath,\n        variableName: this.varName,\n        maxTicks: 200,\n      });\n\n      this._panel.webview.postMessage({\n        type: \"timelineLoaded\",\n        timeline,\n        varName: this.varName,\n      });\n    } catch (err) {\n      this._panel.webview.postMessage({\n        type: \"error\",\n        message: `Failed to load timeline: ${err}`,\n      });\n    }\n  }\n\n  private async handleMessage(message: any): Promise<void> {\n    const glueClient = getGlueClient();\n\n    switch (message.command) {\n      case \"scrub\": {\n        try {\n          await glueClient.send({\n            command: \"jumpToTick\",\n            filePath: this.filePath,\n            tickId: message.tick,\n          });\n\n          this._panel.webview.postMessage({\n            type: \"scrubbed\",\n            tick: message.tick,\n          });\n        } catch (err) {\n          this._panel.webview.postMessage({\n            type: \"error\",\n            message: `Failed to scrub: ${err}`,\n          });\n        }\n        break;\n      }\n\n      case \"scrollToLine\": {\n        const editor = vscode.window.activeTextEditor;\n        if (editor) {\n          const line = Math.max(0, (message.lineNo || 1) - 1);\n          editor.selection = new vscode.Selection(line, 0, line, 0);\n          editor.revealRange(\n            new vscode.Range(line, 0, line, 100),\n            vscode.TextEditorRevealType.InCenter\n          );\n        }\n        break;\n      }\n    }\n  }\n\n  private getHtmlForWebview(\n    webview: vscode.Webview,\n    context: vscode.ExtensionContext,\n    nonce: string\n  ): string {\n    const inspectorUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(context.extensionUri, \"media\", \"inspector.js\")\n    );\n\n    const inspectorCssUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(context.extensionUri, \"media\", \"inspector.css\")\n    );\n\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"${inspectorCssUri}\">\n    <title>Variable Inspector</title>\n</head>\n<body>\n    <div id=\"inspector-container\">\n        <div id=\"header\">\n            <h2 id=\"var-name\"></h2>\n            <button id=\"btn-close\">\u00D7</button>\n        </div>\n        <div id=\"timeline-view\">\n            <div id=\"timeline-list\"></div>\n            <div id=\"timeline-metadata\"></div>\n        </div>\n    </div>\n    <script nonce=\"${nonce}\" src=\"${inspectorUri}\"></script>\n</body>\n</html>`;\n  }\n\n  dispose(): void {\n    this._panel.dispose();\n    this._disposed = true;\n  }\n\n  [Symbol.dispose](): void {\n    this.dispose();\n  }\n}\n", "/**\n * InsightsPanel: Modal webview for AI insights between ticks.\n */\nimport * as vscode from \"vscode\";\nimport { getGlueClient } from \"../glueClient\";\nimport { Insights } from \"../types\";\n\nexport class InsightsPanel {\n  private readonly _panel: vscode.WebviewPanel;\n  private _disposed = false;\n\n  constructor(\n    context: vscode.ExtensionContext,\n    nonce: string,\n    private filePath: string,\n    private fromTick: number,\n    private toTick: number\n  ) {\n    this._panel = vscode.window.createWebviewPanel(\n      \"watercodeflow.insights\",\n      `Insights: ${fromTick} \u2192 ${toTick}`,\n      vscode.ViewColumn.Beside,\n      {\n        enableScripts: true,\n        localResourceRoots: [\n          vscode.Uri.joinPath(context.extensionUri, \"media\"),\n        ],\n      }\n    );\n\n    this._panel.webview.html = this.getHtmlForWebview(\n      this._panel.webview,\n      context,\n      nonce\n    );\n\n    this._panel.webview.onDidReceiveMessage(async (message) => {\n      await this.handleMessage(message);\n    });\n\n    this._panel.onDidDispose(() => {\n      this._disposed = true;\n    });\n\n    // Load insights data\n    this.loadInsights();\n  }\n\n  private async loadInsights(): Promise<void> {\n    if (this._disposed) return;\n\n    try {\n      const glueClient = getGlueClient();\n      const insights = await glueClient.send<Insights>({\n        command: \"getInsights\",\n        filePath: this.filePath,\n        fromTick: this.fromTick.toString(),\n        toTick: this.toTick.toString(),\n        model: \"gemini\",\n      });\n\n      this._panel.webview.postMessage({\n        type: \"insightsLoaded\",\n        insights,\n      });\n    } catch (err) {\n      this._panel.webview.postMessage({\n        type: \"error\",\n        message: `Failed to load insights: ${err}`,\n      });\n    }\n  }\n\n  private async handleMessage(message: any): Promise<void> {\n    const glueClient = getGlueClient();\n\n    switch (message.command) {\n      case \"scrubToTick\": {\n        try {\n          await glueClient.send({\n            command: \"jumpToTick\",\n            filePath: this.filePath,\n            tickId: message.tick,\n          });\n\n          this._panel.webview.postMessage({\n            type: \"scrubbedToTick\",\n            tick: message.tick,\n          });\n        } catch (err) {\n          this._panel.webview.postMessage({\n            type: \"error\",\n            message: `Failed to scrub to tick: ${err}`,\n          });\n        }\n        break;\n      }\n\n      case \"highlightLine\": {\n        const editor = vscode.window.activeTextEditor;\n        if (editor) {\n          const line = Math.max(0, (message.lineNo || 1) - 1);\n          editor.selection = new vscode.Selection(line, 0, line, 0);\n          editor.revealRange(\n            new vscode.Range(line, 0, line, 100),\n            vscode.TextEditorRevealType.InCenter\n          );\n        }\n        break;\n      }\n    }\n  }\n\n  private getHtmlForWebview(\n    webview: vscode.Webview,\n    context: vscode.ExtensionContext,\n    nonce: string\n  ): string {\n    const insightsUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(context.extensionUri, \"media\", \"insights.js\")\n    );\n\n    const insightsCssUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(context.extensionUri, \"media\", \"insights.css\")\n    );\n\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"${insightsCssUri}\">\n    <title>Insights</title>\n</head>\n<body>\n    <div id=\"insights-container\">\n        <div id=\"header\">\n            <h2>Insights</h2>\n            <button id=\"btn-close\">\u00D7</button>\n        </div>\n        <div id=\"insights-content\">\n            <div id=\"insights-summary\"></div>\n            <div id=\"affected-lines\"></div>\n        </div>\n    </div>\n    <script nonce=\"${nonce}\" src=\"${insightsUri}\"></script>\n</body>\n</html>`;\n  }\n\n  dispose(): void {\n    this._panel.dispose();\n    this._disposed = true;\n  }\n\n  [Symbol.dispose](): void {\n    this.dispose();\n  }\n}\n"],
  "mappings": "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",
  "names": ["vscode", "import_crypto", "nonce", "vscode", "nonce", "vscode", "nonce", "vscode", "nonce"]
}
